<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fale Conosco - Simplicity</title> <!-- Geralmente limitado a 60 caracteres, é importante pq no Google aparecerá essa descrição para clicar no site... qto melhor escrito mais atenção chama -->
    
    <!-- Para inserir um favicon - entrar em site como: websiteplanet.com.pt que é um gerador de favicon. Favicon é o símbolo que aparece no guia do site para identificar ele. Importantíssimo ter -->
    <link rel="shortcut icon" href="imagens/favicon.png" type="image/x-icon">

    <!-- Inserindo tags meta -->
    <meta name="description" content="Entre em contato com os nossos consultores"> <!-- nao ultrapassar 160 caracteres, pois gera ... no google por exemplo, essa descricao aparece abaixo do title o google, é importante ter a descriñ{ao pois se nao coloca o google gera uma que pode nao ter nada a ver com o assunto-->

    <meta name="keywords" content="contato"> <!-- colocar palavra chave, pode colocar virgulas e escrever mais palavras chaves - qto menos palavras chaves melhor pois quanto mais palavras menos relevante fica -->

    <!-- CSS externo -->
    <link rel="stylesheet" href="css/style.css">


    <!-- Instalando plugin lightbox -->
    <link rel="stylesheet" href="lightbox/css/lightbox.css">
    <script src="lightbox/js/jquery-1.11.0.min.js"></script>
    <script src="lightbox/js/lightbox.js"></script>


</head>
<body>

    <header>
        <div class="limitador">
            <h1> <a href="index.html">Simplicity</a> </h1>
        
            <nav>
              <h2>
                  <a href="" class="icone">
                      Menu &equiv;
                  </a> 
                </h2>
              <ul class="menu">
                 <li><a href="index.html" title="página inicial">Home</a></li>
                 <li><a href="produtos.html" title="conheça os nossos produtos">Produtos</a></li>
                  <li><a href="servicos.html" title="da criação do site a loja virtual, conheça os nossos serviços">Serviços</a></li>
                  <li><a href="contato.html" title="fale com a equipe Simplicity">Contato</a></li>
              </ul>
         </nav> 
        </div>
    </header>

    <main> <!-- Inicio do conteúdo -->
       <article class="limitador conteudo">
           <h2>Contato</h2>
           <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima deserunt odio, facilis eos quidem fugit necessitatibus ea cum assumenda quia expedita blanditiis fuga! Reiciendis in optio, ad deleniti eveniet asperiores?</p>
           <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Similique fuga explicabo, quisquam optio cupiditate mollitia consequatur ipsum culpa facere animi tenetur, unde perspiciatis ullam laboriosam dolor eaque quis neque velit?</p>

           <!-- Iniciando um formulário -->
           <form id="my-form" action="https://formspree.io/f/xknkyqwr" method="post" ></form> <!-- Copiei esse action do site https://formspree.io/forms/xknkyqwr/integration --> 
                <div> <!-- Usamos a div para que um campo fique embaixo do outro, se nao usa ficarao ao lado -->
                    <label for="nome">Nome </label>
                    <input type="text" name="nome" id="nome" required> <!-- Recurso de acessibilidade, importante usar sempre num formulario, a pessoa clica em nome e abre o campo pra digitar, nao precisa clicar so no nome - posso adicionar Placeholder="Nome completo" - Nesse caso precisa digitar o nome todo, senao nao é enviado o formulario - tem o required - se nao preencher o campo o formulario nao é enviado tb-->
                </div>


                <div>
                    <label for="email">E-mail</label>
                    <input type="email" name="email" id="email" required> <!-- Recurso de acessibilidade, importante usar sempre num formulario, a pessoa clica em nome e abre o campo pra digitar, nao precisa clicar so no nome -->
                </div>

                
                <div>
                    <label for="data">Data de nascimento</label>
                    <input type="date" name="data" id="data"> <!-- Recurso de acessibilidade, importante usar sempre num formulario, a pessoa clica em nome e abre o campo pra digitar, nao precisa clicar so no nome -->
                </div>

                <div>
                    <label for="telefone">Telefone</label>
                    <input type="tel" name="telefone" id="telefone" placeholder="Digite apenas números, incluindo o DDD" required> <!-- Recurso de acessibilidade, importante usar sempre num formulario, a pessoa clica em nome e abre o campo pra digitar, nao precisa clicar so no nome -->
                </div>
                <!--                 <div>
                    <label for="celular">Celular</label>
                    <input type="cel" name="celular" id="celular" placeholder="Digite apenas números, incluindo o DDD" required>  - Rcoloquei um script abaixo aonde junto num campo só para poder digitar telefone ou celular, caso queiro 2 campo, tiro o scrip e coloco esses 2 campos, mas os 2 campos de script comentados abaixo </div> -->
                

                <div>
                    <label for="idade">Idade</label>
                    <input type="number" name="idade" id="idade" min="18" max="120"> <!-- Recurso de acessibilidade, importante usar sempre num formulario, a pessoa clica em nome e abre o campo pra digitar, nao precisa clicar so no nome -->
                </div>

                <div>
                    <p>Gênero</p>
                    <input type="radio" name="genero" id="masculino" value="masculino">
                    <label for="masculino">Masculino</label>
                
                    <input type="radio" name="genero" id="feminino" value="feminino">
                    <label for="feminino">Feminino</label>
                
                    <input type="radio" name="genero" id="outros" value="outros">
                    <label for="outros">Outros</label>
                </div>
            
                <div>
                    <p>Interesses:</p>
                    <input type="checkbox" name="interesses" id="design" value="design">
                    <label for="design">Design</label>

                    <input type="checkbox" name="Interesses" id="marketing" value="marketing">
                    <label for="marketing">Marketing</label>

                    <input type="checkbox" name="Interesses" id="programacao" value="programacao">
                    <label for="programacao">Programação</label>
                </div>

                <div>
                    <label for="cep">CEP:</label>
                    <input type="text" name="cep" id="cep" maxlength="9" required>
                    <!-- <button id="localizar-cep">Localizar</button> - tiramos o botao pois o Jquery abaixo preenche os dados sem precisar clicar no localizar-->
                    <b id="status"></b>
                </div>

                <div>
                    <label for="endereco">Endereço:</label>
                    <input type="text" name="endereco" id="endereco" size="60">
                </div>

                <div>
                    <label for="bairro">Bairro:</label>
                    <input type="text" name="bairro" id="bairro">
                </div>

                <div>
                    <label for="cidade">Cidade:</label>
                    <input type="text" name="cidade" id="cidade">
                </div>

                <div>
                    <label for="estado">Estado:</label>
                    <input type="text" name="estado" id="estado">
                </div>

                <div> <!-- Para fazer lista suspensa com opcoes para eleger -->
                    <label for="assunto">Assunto:</label>
                    <select name="assunto" id="assunto">
                        <option></option><!-- Deixo esse em branco para ou escrevo Escolha uma opção, pois oq estiver aqui aparecerá na barra fechada -->
                        <option>Dúvidas</option>
                        <option>Elogios</option>
                        <option>Reclamações</option>
                        <option>Outros</option>
                    </select>
                </div>

                <div>
                    <label for="mensagem">Mensagem: 
                        <span id="maximo"> (Restam <b id="caracteres">100</b>caracteres)</span>
                    </label> <br>
                    <textarea name="mensagem" id="mensagem" cols="30" rows="10" maxlength="100"></textarea>
                </div>

                <button type="submit">Enviar dados</button>
                <p id="my-form-status"></p> <!-- Copiei esse paragrafo do site https://formspree.io/forms/xknkyqwr/integration --> 
                

       </article>
    </main> <!-- Fim do conteúdo -->

    <footer>
        <p>Simplicity é um site fictício desenvolvido por Senac-Penha &copy;2021 </p>
    </footer>
    

   <script src="js/menu.js"></script>

   <!-- Linkando para o Vanilla Masker -->
    <script src="js/vanilla-masker.min.js"></script>

    <!-- Mascarando campo de telefone -->
    <script>
    // VMasker(document.querySelector("#telefone")).maskPattern("(99) 9999-9999");

    // VMasker(document.querySelector("#celular")).maskPattern("(99) 99999-9999");

    // VMasker(document.querySelector("#cpf")).maskPattern("999.999.999-99");

    VMasker(document.querySelector("#cep")).maskPattern("99999-999"); - /* http://viacep.com.br/ - depois clicar em https://viacep.com.br/exemplo/jquery/  (caso uso JQuery) */




    function inputHandler(masks, max, event) {
        var c = event.target;
        var v = c.value.replace(/\D/g, '');
        var m = c.value.length > max ? 1 : 0;
        VMasker(c).unMask();
        VMasker(c).maskPattern(masks[m]);
        c.value = VMasker.toPattern(v, masks[m]);
    }

        var telMask = ['(99) 9999-99999', '(99) 99999-9999'];
        var tel = document.querySelector('#telefone');
        VMasker(tel).maskPattern(telMask[0]);
        tel.addEventListener('input', inputHandler.bind(undefined, telMask, 14), false);

        var docMask = ['999.999.999-999', '99.999.999/9999-99'];
        var doc = document.querySelector('#documento');
        VMasker(doc).maskPattern(docMask[0]);
        doc.addEventListener('input', inputHandler.bind(undefined, docMask, 14), false);
</script>


<!-- Referenciando biblioteca Jquery 3.6 - 
    IMPORTANTE - Sempre que carregar um plugin que usa Jquery a primeira a ser carregada é a biblioteca Jquery, do contrario o plugin nao funcionará-->

        <script src="plugins/jquery-3.6.0.min.js"></script>

        <!-- http://viacep.com.br/ - Informacoes abaixo tiradas desse site -->

        <script>
            $(document).ready(function() {
    
                function limpa_formulário_cep() {
                    // Limpa valores do formulário de cep.
                    $("#endereco").val("");
                    $("#bairro").val("");
                    $("#cidade").val("");
                    $("#estado").val("");
                }
                
                //Quando o campo cep perde o foco.
                $("#cep").blur(function() {
    
                    //Nova variável "cep" somente com dígitos.
                    var cep = $(this).val().replace(/\D/g, '');
    
                    //Verifica se campo cep possui valor informado.
                    if (cep != "") {
    
                        //Expressão regular para validar o CEP.
                        var validacep = /^[0-9]{8}$/;
    
                        //Valida o formato do CEP.
                        if(validacep.test(cep)) {
    
                            //Preenche os campos com "..." enquanto consulta webservice.
                            $("#endereco").val("...");
                            $("#bairro").val("...");
                            $("#cidade").val("...");
                            $("#estado").val("...");
                            $("#status").text(""); /* se eu escrevesse algo, teria que colocar cor .css('color', 'blue') como feito abaixo no  
                            else {
                                    //CEP pesquisado não foi encontrado.
                                    limpa_formulário_cep();
                                    $("#status").text("CEP não encontrado.").css('color', 'red');
                                }*/
                                
                            //Consulta o webservice viacep.com.br/
                            $.getJSON("https://viacep.com.br/ws/"+ cep +"/json/?callback=?", function(dados) {
    
                                if (!("erro" in dados)) {
                                    //Atualiza os campos com os valores da consulta.
                                    $("#endereco").val(dados.logradouro);
                                    $("#bairro").val(dados.bairro);
                                    $("#cidade").val(dados.localidade);
                                    $("#estado").val(dados.uf);
                                } //end if.
                                else {
                                    //CEP pesquisado não foi encontrado.
                                    limpa_formulário_cep();
                                    $("#status").text("CEP não encontrado.").css('color', 'red');
                                }
                            });
                        } //end if.
                        else {
                            //cep é inválido.
                            limpa_formulário_cep();
                            $("#status").text("Formato de CEP inválido.");
                        }
                    } //end if.
                    else {
                        //cep sem valor, limpa formulário.
                        limpa_formulário_cep();
                    }
                });
            });
    
        </script>

        <!-- Contador de caracteres do campo de mensagem do formulário -->

        <script>
            /* Selecionando os elementos que serao utilizados */
            const spanMaximo = $("#maximo");
            const bCaracteres = $("#caracteres");
            const textMensagem = $("#mensagem");

            /* Terminando a quantidade de caracteres */
            let quantidade = 100;

            /* Ouvinte do evento */
            textMensagem.on("input", function (){
                /* Capturando oq for digitado */
                let conteudo = textMensagem.val();
               
                /* criando a contagem regressiva */
                let contagem =quantidade - conteudo.length;

                //Exibindo o numero no HTML
                bCaracteres.text(contagem);

                if (contagem ==0){
                    spanMaximo.css('color', 'red');
                    spanMaximo.text('Limite de caracteres excedido');
                } else{
                    spanMaximo.css('color', 'black');
                    spanMaximo.html("restam <b id='caracteres'>" +contagem+"</b> caracteres)")
               }
            })

        </script>

<!-- Script para envio do formulario tirado do site https://formspree.io/forms/xknkyqwr/integration --->
        <script>
            var form = document.getElementById("my-form");
            
            async function handleSubmit(event) {
            event.preventDefault();
            var status = document.getElementById("my-form-status");
            var data = new FormData(event.target);
            fetch(event.target.action, {
                method: form.method,
                body: data,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                status.innerHTML = "Mensagem enviada com sucesso!";
                form.reset()
            }).catch(error => {
                status.innerHTML = "Oops! Encontramos um problema, revise as informações e reenvie novamente!"
            });
            }
            form.addEventListener("submit", handleSubmit)
        </script>

</body>
</html>